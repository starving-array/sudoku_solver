<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sudoku Solver</title>
    <style>
      .bigDiv {
        display: flex;
      }
      .divSmall {
        height: 50px;
        width: 50px;
        background-color: bisque;
        border: 10px solid white;
      }
      .inputInsideDiv {
        border: 10px solid transparent;
        background-color: azure;
        min-height: 50px;
        min-width: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .inputEntry {
        font-size: 1.2rem;
        width: 100%;
        height: 100%;
        display: block;
      }
      .bigForm {
        display: grid;
        /* height: fit-content; */
        grid-template-columns: repeat(9, 1fr);
        grid-template-rows: repeat(1, auto);
      }
    </style>
  </head>
  <body>
    <h1>Sudoku</h1>

    <div id="container"></div>
  </body>
</html>

<script>
  let n = 9; // dynamic based on user selection
  // for now n is by ddefault 9

  let arr = new Array(n).fill(new Array(n).fill(n));
  let masterBox = document.getElementById("container");

  // function to create selement box on home page
  function CreateBox(arr) {
    arr.forEach(function (elem, index) {
      // row of sudoku
      let big = document.createElement("div");
      big.setAttribute("class", "bigDiv");

      // small box creating
      elem.forEach(function (elem2, index2) {
        let divSmall = document.createElement("div");
        divSmall.setAttribute("class", "divSmall");
        big.append(divSmall);
      });
      masterBox.append(big);
    });
  }
  // <<<<<<<<<<<<<<--------------------------------->>>>>>>>>>>>>>>>>>>>>>

  //   CreateBox(arr);
  // form creation 
//   F O R M F O R I N P U T 
  function CreateInputBox(num) {
    for (let i = 0; i < num; i++) {
      let big = document.createElement("form");
      big.setAttribute("class", "bigForm");
      for (let j = 0; j < num; j++) {
        // inputInsideDiv
        let div = document.createElement("div");
        div.setAttribute("class", "inputInsideDiv");
        // inputEntry
        let inputEntry = document.createElement("input");
        inputEntry.setAttribute("class", "inputEntry");
        inputEntry.addEventListener("input", function (e) {
          let INumber = Number(e.target.value);
          let s = inputValidation(INumber);
          if (s != true) {
            alert("Not a number");
            e.target.value = "";
          }
        });
        div.append(inputEntry);
        big.append(div);
      }
      masterBox.append(big);
    }
  }

  // input box create
  CreateInputBox(n);

  // input validation
  function inputValidation(e) {
    {
      console.log(e + 10);
      for (let i = 1; i <= n; i++) {
        if (e == i) {
          return true;
        }
      }
      return false;
    }
  }
</script>





<!-- // sudoku solver algo  -->
<script>
  let inputArray = new Array(n).fill(new Array(n).fill(""));

  function SudokuSolver(arr, row, col, num) {
    // arr => array containing pertial input
    // row col starting searing point
    // num => matrix length //row length or col length
    if(row==num)
    {
        return true;
    }
    let newRow = 0;
    let newCol = 0;
    if (col == arr.length - 1) {
      newCol = 0;
      newRow = row + 1;
    } else {
      newCol = col + 1;
      newRow = row;
    }

    if (arr[row][col] != "") {
      if (SudokuSolver(arr, newRow, newCol, num)) {
        return true;
      }
    } else {
      for (let c = 1; c <= num; c++) {
        if (IsTrue(arr, row, col, c)) {
          arr[row][col] = c;
          if (SudokuSolver(arr, newRow, newCol)) {
            return true;
          } else {
            arr[row][col] = "";
          }
        }
      }
    }
    return false;
  }

  function IsTrue(arr, row, col, val){
    // horizontal check
    for(let r = 0; r<arr.length; r++)
    {
        if(arr[r][col]==val)
        {
            return false;
        }
    }

    // vertiacl
    for(let c= 0; c<arr.length; c++)
    {
        if(arr[row][c]==val)
        {
            return false;
        }
    }
    let divider = num/3; // num will always be multiplier of 3 // num*num matrix 
    let x = row/divider * divider;
    let y = col/divider * divider;

    for(let i = x; i<x+divider; i++)
    {
        for(let j = y; j<y+divider; j++)
        {
            if(arr[i][j]==val)
            {
                return false;
            }
        }
    }
    return true;
  }
</script>
